# Technical Preparation: Depth and Breadth (Apple Interview Focus)

---
Across Ruby/Rails platform work, I focused on performance and developer productivity: introducing Sorbet typing to make refactors safer, tuning Postgres-heavy workflows using EXPLAIN and targeted composite indexes, correcting inefficient query patterns generated by internal gems (e.g., LEFT OUTER JOIN-heavy deletion queries), and improving tooling quality via custom RuboCop cops. I also addressed hidden performance cliffs in instrumentation by replacing Enumerable#count iteration on PG::Result with ntuples, and eliminated N+1 query issues through disciplined preloading.


## 1. Technical Depth (Very Important)

**Depth means:** you can go deep on a few core areas and clearly explain *trade-offs*, not just implementation details.

---

### A. Ruby (Must-Have Depth)

Be able to explain **why**, not just **how**.

#### Prepare deeply on:
- Ruby object model
- Method lookup chain (`include`, `prepend`, `extend`)
- Singleton classes (eigenclasses)
- Metaprogramming trade-offs:
  - `define_method` vs `method_missing`
- Garbage collection:
  - Generational GC
  - Object allocation costs
- Concurrency:
  - GIL
  - Threads vs processes

#### What Apple listens for:
- Judgment
- Maintainability
- Performance awareness

---

### B. Rails Internals & Architecture (Must-Have Depth)

Prepare **one Rails system** you know well and can explain end to end.

#### Deep topics:
- Request lifecycle
- ActiveRecord performance:
  - N+1 queries
  - Indexing
  - Batching
- Modular monolith vs microservices
- Callbacks vs service objects
- Background jobs (Sidekiq)
- Feature flags & safe rollouts

#### You should be able to:
- Walk through a request:
  - **HTTP request → DB → background job → metrics**

---

### C. Data & Persistence (Must-Have Depth)

- SQL fundamentals:
  - Joins
  - Aggregates
- Indexing strategies
- JSONB trade-offs
- Data migrations and backfills
- Idempotency and correctness

---

### D. Testing (Must-Have Depth)

- What to test vs what *not* to test
- Unit vs integration vs system tests
- Characterization tests for legacy systems
- Testing strategies under ambiguity

---

## 2. Technical Breadth (Important)

**Breadth means:** you can reason about adjacent systems and collaborate effectively across disciplines.

---

### A. Front-End (Working Knowledge)

- HTML semantics
- CSS basics (Flexbox)
- JavaScript fundamentals
- Stimulus vs Turbo
- When *not* to use React

---

### B. Observability & Reliability

- Logging
- Metrics
- Alerts
- Debugging production issues
- Rollback strategies

---

### C. DevOps Awareness

- CI/CD concepts
- Feature flags
- Environment configuration
- Safe deploy patterns

---

### D. Big Data Awareness

- Structured vs unstructured data
- Batch vs streaming processing
- Data quality and drift
- Collaboration with data scientists

---
